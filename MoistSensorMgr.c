// This is file has been prepared by a cog script.

/// \file MoistSensorMgr.c
/// \brief    DON'T FORGET TO DESCRIBE THE FILE HERE!
/// \author   Infinition - Nicolas Bourr√©
///

////////////////////////////////////////////////////////////////////////////////
// Includes
////////////////////////////////////////////////////////////////////////////////
#include "Arduino.h"
#include "MoistSensorMgr.h"

////////////////////////////////////////////////////////////////////////////////
// Definitions
////////////////////////////////////////////////////////////////////////////////
#define MOISTURE_PIN D8 // Arduino 8
#define MOISTURE_DELAY 15000
#define POLL_DELAY 100
#define POLLING_TIME 10 * POLL_DELAY

#define SERIAL_DELAY 1000

#define MAP_MAX 1024
#define MAP_MIN 350


////////////////////////////////////////////////////////////////////////////////
// Data types
////////////////////////////////////////////////////////////////////////////////
enum moisture_SM {BOOTING, WAITING, POLLING, REPORTING};





////////////////////////////////////////////////////////////////////////////////
// Private functions
////////////////////////////////////////////////////////////////////////////////
void booting_state(int);
void waiting_state(int);
void polling_state(int);
void reporting(int);

////////////////////////////////////////////////////////////////////////////////
/// Local variables
////////////////////////////////////////////////////////////////////////////////
oMoistSensorMgrTy oMoistSensorMgr			= {FALSE};

enum moisture_SM current_state = BOOTING;

unsigned long moisture_acc = MOISTURE_DELAY;
int polling_time_acc = 0;
int poll_acc = 0;
int serial_acc = 0;

int poll_count = 0;

////////////////////////////////////////////////////////////////////////////////
/// \brief 		TODO DESCRIPTION HERE
/// \public
///
/// \return		TRUE if success, FALSE otherwise.
////////////////////////////////////////////////////////////////////////////////

bool MoistSensorMgr()
{
	bool bRet = FALSE;

	// TODO YOUR CODE HERE!!

END:
	return bRet;
}

////////////////////////////////////////////////////////////////////////////////
/// \brief 		TODO DESCRIPTION HERE
/// \public
///
/// \return		TRUE if success, FALSE otherwise.
////////////////////////////////////////////////////////////////////////////////

bool MoistSensorMgrTask()
{
	bool bRet = FALSE;

	// TODO YOUR CODE HERE!!

END:
	return bRet;
}

////////////////////////////////////////////////////////////////////////////////
/// \brief 		TODO DESCRIPTION HERE
/// \public
///
/// \return		TRUE if success, FALSE otherwise.
////////////////////////////////////////////////////////////////////////////////

bool MoistSensorMgrConfigure()
{
	bool bRet = FALSE;

	// TODO YOUR CODE HERE!!

END:
	return bRet;
}
